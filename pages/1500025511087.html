<style>
#landscaper-container{
	overflow:hidden;
	position:absolute;
	top:0;
	left:0;
	width:100vw;
	height: 100vh;
}
#landscaper{
	overflow:hidden;
	position:fixed;
	top:0;
	left:0;
	width:100vw;
	height:100vh;
}
#landscape-container{
	overflow:hidden;
	position:absolute;
	top:0;
	left:0;
	width:100%;
	height:100%;
	background:#ddd;
	-ms-overflow-style: none;  // IE 10+
    overflow: -moz-scrollbars-none;  // Firefox
}
#landscape-container::-webkit-scrollbar { 
    display: none;  // Safari and Chrome
}
#landscape{
    position: relative;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #ccc;
}
#landscape:hover{
	border:1px dotted #444;
}
.item{
	position:absolute;
	cursor:pointer;
	top:10px;
	left:10px;
	width:auto;
	height:auto;
}
.item:hover{
	opacity:.5;
}
.text{
	position:absolute;
	top:100px;
	left:200px;
	font-size:20px;
	color:#444;
}
.ball{
	position:absolute;
	top:300px;
	left:200px;
	width:50px;
	height:50px;
	border-radius:50px;
	background:#ec0000;
	border:4px solid #444;
}
.bigBall{
	position:absolute;
	top:300px;
	left:300px;
	width:200px;
	height:200px;
	border-radius:200px;
	background:green;
	border:4px solid #444;
}
.medBall{
	position:absolute;
	top:250px;
	left:250px;
	width:250px;
	height:250px;
	border-radius:250px;
	background:orangered;
	border:4px solid #444;
}
.panel_PB{
	position:absolute;
	top:150px;
	padding:20px;
	background:#444;
	color:#fff;
}
.lastFocus{
	opacity:.5;
}
.no-pointers{
	pointer-events:none;
}
.edit_PB{
	cursor:pointer;
	position: absolute;
    top: 0;
    padding: 10px;
    background: #444;
    color: #fff;
    text-transform: uppercase;
    display: inline-block;
}
.edit_PB_active{
	background:#ec0000;
}
.edit_PB:hover{
	opacity:.5;
}

/*code editor*/
#htmlModCodesDiv {
    z-index: 40000;
    background: #fff;
    padding: 30px;
    z-index: 10002;
    width: auto;
    height: 100%;
    right: -100%;
    top: 0;
    position: fixed;
    list-style: none;
    overflow-x: hidden;
    background: #eee;
    margin-right: -15px;
    border-left: 21px solid rgba(255, 69, 0, 0.1);
}

.genericPB_vertical {
    cursor: pointer;
    padding: 10px;
    background: orangered;
    color: #fff;
    -webkit-transition: all .8s ease;
    -moz-transition: all .8s ease;
    transition: all .8s ease;
    text-transform: uppercase;
}

.genericPB_vertical:hover {
    opacity: .5;
}

.genericRot_vertical {
    color: orangered;
    padding: 5px;
    text-align: left;
}





</style>

<div id="htmlContent" style="height:100%;position:relative">
	<div class="basicOuter">
		<div class="basicInner">
			<!--<div id="landscaper-container">
				<div id="landscaper">-->
					<div id="landscape-container">
						<!--<div id='landscape' >
						</div>-->
						
						
						
						
						<div item="" class="panel_PB item" except="true" style="left: 1204px; top: 146px;">
							<div except="true" onclick="duplicateItem()">Duplicate</div>
							<div except="true" onclick="deleteItem()" style="left: 20px; top: 39px;">Delete</div>
							<div except="true" onclick="saveCol()" style="left: 18px; top: 60px;">Save</div> 
							<div except="true" id="statusSaved" style="color: green;">Contenidos guardados</div>
							
						</div>
					<div item="" id="bigBall-1500937994771" itemtype="bigBall" level="0" comp="a,b" class="bigBall item" style="left: 68px; top: 407px;">
						<div item="" id="ball-1500937990348" itemtype="ball" level="1" comp="a" class="ball item" style="left: 160px; top: 139px;" group="true" new_container="bigBall-1500937994771">
						<div item="" id="text-15009379903490" itemtype="text" level="2" comp="b" class="text item" group="true" new_container="ball-1500937990348" style="left: 6px; top: 15px;">
							Hey
						</div></div><div item="" id="text-1500938091083" itemtype="text" level="2" comp="b" class="text item" style="left: 68px; top: 40px; z-index: 40000;" group="true" new_container="bigBall-1500937994771">
							Hey
						</div></div><div item="" id="medBall-1500937997196" itemtype="medBall" level="0" comp="a,b" class="medBall item" style="left: 250px; top: 240px;">
						<div item="" id="text-1500938188596" itemtype="text" level="2" comp="b" class="text item" style="left: 135px; top: 50px; z-index: 40000;" group="true" new_container="medBall-1500937997196">
							Hey
						</div></div><div item="" id="bigBall-1500937994339" itemtype="bigBall" level="0" comp="a,b" class="bigBall item" style="left: 293px; top: -9px; z-index: 40000;">
						<div item="" id="ball-1500937990899" itemtype="ball" level="1" comp="a" class="ball item" style="left: 50px; top: 175px;" group="true" new_container="bigBall-1500937994339">
						</div><div item="" id="ball-1500937991691" itemtype="ball" level="1" comp="a" class="ball item" style="left: 143px; top: 154px;" group="true" new_container="bigBall-1500937994339">
						<div item="" id="text-15009379916910" itemtype="text" level="2" comp="b" class="text item" group="true" new_container="ball-1500937991691" style="left: 6px; top: 15px;">
							Hey
						</div></div><div item="" id="text-1500938096315" itemtype="text" level="2" comp="b" class="text item" style="left: 43px; top: 95px; z-index: 40000;" group="true" new_container="bigBall-1500937994339">
							Hey
						</div></div><div item="" id="medBall-1500937997387" itemtype="medBall" level="0" comp="a,b" class="medBall item" style="left: 29px; top: 33px; z-index: 40000;">
						<div item="" id="bigBall-1500937993434" itemtype="bigBall" level="0" comp="a,b" class="bigBall item" style="left: -22px; top: 115px;" group="true" new_container="medBall-1500937997387">
						<div item="" id="ball-1500937992298" itemtype="ball" level="1" comp="a" class="ball item" style="left: 87px; top: 176px;" group="true" new_container="bigBall-1500937993434">
						<div item="" id="text-15009379922990" itemtype="text" level="2" comp="b" class="text item" group="true" new_container="ball-1500937992298" style="left: 6px; top: 15px;">
							Hey
						</div></div></div><div item="" id="ball-1500937992027" itemtype="ball" level="1" comp="a" class="ball item" style="left: 204px; top: 159px;" group="true" new_container="medBall-1500937997387">
						<div item="" id="text-15009379920270" itemtype="text" level="2" comp="b" class="text item" group="true" new_container="ball-1500937992027" style="left: 6px; top: 15px;">
							Hey
						</div></div></div><div item="" id="medBall-1500938136285" itemtype="medBall" level="0" comp="a,b" class="medBall item" style="left: 248px; top: 545px; z-index: 40000;">
						<div item="" id="bigBall-15009381362850" itemtype="bigBall" level="0" comp="a,b" class="bigBall item" style="left: -22px; top: 115px;" group="true" new_container="medBall-1500938136285">
						<div item="" id="ball-15009381362850" itemtype="ball" level="1" comp="a" class="ball item" style="left: 87px; top: 176px;" group="true" new_container="bigBall-15009381362850">
						<div item="" id="text-15009381362850" itemtype="text" level="2" comp="b" class="text item" group="true" new_container="ball-15009381362850" style="left: 6px; top: 15px;">
							Hey
						</div></div></div><div item="" id="ball-15009381362861" itemtype="ball" level="1" comp="a" class="ball item" style="left: 204px; top: 159px;" group="true" new_container="medBall-1500938136285">
						<div item="" id="text-15009381362860" itemtype="text" level="2" comp="b" class="text item" group="true" new_container="ball-15009381362861" style="left: 6px; top: 15px;">
							Hey
						</div></div></div><div item="" id="medBall-1500937997579" itemtype="medBall" level="0" comp="a,b" class="medBall item" style="left: 733px; top: 212px;">
						<div item="" id="text-15009379908990" itemtype="text" level="2" comp="b" class="text item" style="left: 94px; top: 38px; z-index: 40000;" group="true" new_container="medBall-1500937997579">
							Hey
						</div><div item="" id="text-1584483469751" itemtype="text" level="2" comp="b" class="text item" style="top: 66px; z-index: 40000; width: 200px; height: 200px; background: rgb(51, 102, 153); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: rgb(255, 255, 255); font-weight: bold; font-size: 120px; left: 119px;" group="true" new_container="medBall-1500937997579">A</div><div item="" id="text-1584483980776" itemtype="text" level="2" comp="b" class="text item" style="top: -26px; z-index: 40000; width: 200px; height: 200px; background: rgb(51, 102, 153); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: rgb(255, 255, 255); font-weight: bold; font-size: 120px; left: -150px;" group="true" new_container="medBall-1500937997579">		<div style="left: -578px; top: -418px; z-index: 40000;" group="true" new_container="text-1584483980776">G</div></div><div item="" id="text-15844839807760" itemtype="text" level="2" comp="b" class="text item" style="top: -171px; z-index: 40000; width: 200px; height: 200px; background: rgb(51, 102, 153); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: rgb(255, 255, 255); font-weight: bold; font-size: 120px; left: 40px;" group="true" new_container="medBall-1500937997579">A</div><div item="" id="text-1584483767229" itemtype="text" level="2" comp="b" class="text item" style="top: 178px; z-index: 40000; width: 200px; height: 200px; background: rgb(51, 102, 153); border-radius: 50%; display: flex; justify-content: center; align-items: center; color: rgb(255, 255, 255); font-weight: bold; font-size: 120px; left: -85px;" group="true" new_container="medBall-1500937997579">		<div style="left: -581px; top: -352px; z-index: 40000;" group="true" new_container="text-1584483767229">G</div></div></div><div item="" id="bigBall-1500937994548" itemtype="bigBall" level="0" comp="a,b" class="bigBall item" style="left: 933px; top: 513px; z-index: 40000;">
						</div></div>
				<!--</div>
			</div>-->
			<div class="edit_PB         " onclick="modPartialCodeStatus(this)">Editar</div>
		</div>
	</div>
	
</div>
<script cbtype="landscape">
/*------------------------
------------------------
------------------------
funcionallities for dev
------------------------
------------------------
--------------------------*/
var landscapeContainer=document.getElementById('landscape-container');
var duplicateItem = function(){
	if(lastDuplicateItem){
		var newItem = lastDuplicateItem.cloneNode(true);
		newItem.style.left = lastDuplicateItem.offsetLeft+20+'px';
		newItem.style.top = lastDuplicateItem.offsetTop +20+'px';
		newItem.className = newItem.className.replace(' lastFocus','');
		newItem.addEventListener("touchstart", touchStartHandler, false);
		if (newItem.addEventListener) {  // all browsers except IE before version 9
            newItem.addEventListener("mousedown", function(event) {
            	OnButtonDownItem(event);
            }, false);
        } else {
            if (newItem.attachEvent) {   // IE before version 9
                itemsColl[j].attachEvent("onmousedown", function(event) {
                    OnButtonDownItem(event);
                });
            }
        }
        landscapeContainer.appendChild(newItem);
        itemsColl=document.querySelectorAll('[item]');
        //attributes
        var newId = newItem.getAttribute('id').split('-')[0]+'-'+new Date().getTime();
        subElementsDuplicate(newItem.querySelectorAll('[item][new_container='+newItem.id+']'), newId);
        newItem.setAttribute('id', newId);
	}
}
var subElementsDuplicate = function(_subElements, _container){
	for(var j in _subElements){
		if(typeof _subElements[j] === 'object'){
			var newId = _subElements[j].id.split('-')[0] + '-' + ( new Date().getTime() + j );
			_subElements[j].setAttribute('new_container', _container);
			_subElements[j].setAttribute('group', true);
			subElementsDuplicate(_subElements[j].querySelectorAll('[item][new_container="'+_subElements[j].id+'"]'), newId);
			_subElements[j].id = newId;
		} 
	}
}
var deleteItem = function(){
	if(lastFocusItem && !lastFocusItem.getAttribute('except')){
		lastFocusItem.parentNode.removeChild(lastFocusItem);
	}
}
</script>
<script cbtype="assignItemsMove">
/*------------------------
------------------------
------------------------
assign move to items
------------------------
------------------------
--------------------------*/
	var lastFocusItem = null;
	var itemException = null;
	var lastDuplicateItem = null;
	var itemsColl = null;
 	var asignItemsMove=function(){
  		itemsColl=document.querySelectorAll('[item]')
      	for( j=0;j<=itemsColl.length-1;j++){      		
      		itemsColl[j].left = itemsColl[j].offsetLeft;
        	itemsColl[j].top =  itemsColl[j].offsetTop;
	        if (itemsColl[j].addEventListener) {  // all browsers except IE before version 9
	            itemsColl[j].addEventListener("mousedown", function(event) {
                	OnButtonDownItem(event);
	            }, false);
	        } else {
	            if (itemsColl[j].attachEvent) {   // IE before version 9
	                itemsColl[j].attachEvent("onmousedown", function(event) {
	                    OnButtonDownItem(event);
	                });
	            }
	        }
      	}
        //--touch events
        for( j=0;j<=itemsColl.length-1;j++){
            itemsColl[j].addEventListener("touchstart", touchStartHandler, false);
        }
    }
    var onMouseUp = function(e) {
        elementHover =overItem;
		if(lastFocusItem && elementHover){
	        	elementHover.appendChild(lastFocusItem);
	        	lastFocusItem.setAttribute('group',true);
	        	lastFocusItem.setAttribute('new_container',elementHover.id);
	        	item.container=elementHover;
				lastFocusItem.style.left = lastFocusItem.offsetLeft - elementHover.offsetLeft + 'px';
				lastFocusItem.style.top = lastFocusItem.offsetTop - elementHover.offsetTop + 'px';
		}else{
			lastFocusItem.group = false;
			landscapeContainer.appendChild(item);
			lastFocusItem.removeAttribute('group');
			lastFocusItem.removeAttribute('new_container');
		}
		 lastFocusItem.addEventListener("mousedown", function(event) {
                	OnButtonDownItem(event);
	            }, false);
		overItem = null;
		elementHover = null;
        document.removeEventListener("mousemove", onMouseMove, false);
        document.removeEventListener("mouseup", onMouseUp, false);

    }
    var overItem = null;
    var onMouseMove = function(e) {
        cursorPosX = e.clientX -sliderPBOffsetX ;
        cursorPosY = e.clientY -sliderPBOffsetY;
        lastFocusItem.style.left = cursorPosX + "px"; 
        lastFocusItem.style.top = cursorPosY + "px";   
        lastFocusItem.left = lastFocusItem.offsetLeft; 
        lastFocusItem.top = lastFocusItem.offsetTop; 
        for( var j in itemsColl){
        	if( itemsColl[j] !== lastFocusItem && overItem !== itemsColl[j] && e.clientX >= itemsColl[j].offsetLeft && e.clientX <= itemsColl[j].offsetLeft+itemsColl[j].offsetWidth && e.clientY >= itemsColl[j].offsetTop && e.clientY <= itemsColl[j].offsetTop+itemsColl[j].offsetHeight ){
        		overItem=itemsColl[j];
        		break;
        	}else{
        		overItem=null;
        	}
        }
    }
    var onMouseMoveException = function(e) {
        cursorPosX = e.clientX -sliderPBOffsetX ;
        cursorPosY = e.clientY -sliderPBOffsetY;
        itemException.style.left = cursorPosX + "px"; 
        itemException.style.top = cursorPosY + "px";   
        itemException.left = itemException.offsetLeft; 
        itemException.top = itemException.offsetTop;            
    }
    var onMouseUpException = function(e) {
        document.removeEventListener("mousemove", onMouseMoveException, false);
        document.removeEventListener("mouseup", onMouseUpException, false);
    }
    var elementHover = null;
    var OnButtonDownItem = function(event) {
        item=event.target;
        statusModCode
   		?showCode(item)
   		:null;
        if(!item.getAttribute('except')){
        	lastFocusItem = item;
        	lastDuplicateItem = item;
        	if(lastFocusItem.getAttribute('group')){
        		relativePos ={'x':0,'y':0};
        		downLevelItem(lastFocusItem);
	        	lastFocusItem.style.zIndex="40000";
	            lastFocusItem.style.left = relativePos.x + "px"; 
	            lastFocusItem.style.top =  relativePos.y + "px";
	        }
	        landscapeContainer.appendChild(item);
	        var iniContainer = lastFocusItem.getAttribute('container');
	        lastFocusItem.removeAttribute('group');
	        lastFocusItem.removeAttribute('new_container');
	      	sliderPBOffsetX = event.clientX - lastFocusItem.offsetLeft ;
	        sliderPBOffsetY = event.clientY- lastFocusItem.offsetTop ;
			document.addEventListener("mousemove", onMouseMove, false);
			document.addEventListener("mouseup", onMouseUp, false);
        }else{
        	itemException = item;
        	sliderPBOffsetX = event.clientX - item.offsetLeft ;
	        sliderPBOffsetY = event.clientY- item.offsetTop ;
			document.addEventListener("mousemove", onMouseMoveException, false);
			document.addEventListener("mouseup", onMouseUpException, false);
        }
    }
    var relativePos ={};
    var downLevelItem = function(_elem){
    	var _downLevel = document.getElementById(_elem.getAttribute('new_container'));
    	relativePos.x=relativePos.x+Number(_elem.style.left.replace('px',''));
    	relativePos.y=relativePos.y+Number(_elem.style.top.replace('px',''));
    	if( _downLevel ){
		    downLevelItem(_downLevel);
		}else{
			return relativePos
		}
    }
    var touchobj=null;
    var touchStartHandler = function(event) {
        item=event.target;
        statusModCode
   		?showCode(item)
   		:null;
   		touchobj = event.changedTouches[0];
        if(!item.getAttribute('except')){
        	lastFocusItem = item;
        	lastDuplicateItem = item;
        	if(lastFocusItem.getAttribute('group')){
	        	relativePos ={'x':0,'y':0};
        		downLevelItem(lastFocusItem);
	        	lastFocusItem.style.zIndex="40000";
	            lastFocusItem.style.left = relativePos.x + "px"; 
	            lastFocusItem.style.top =  relativePos.y + "px";
	        }
	        landscapeContainer.appendChild(item);
	        var iniContainer = lastFocusItem.getAttribute('container');
	        lastFocusItem.removeAttribute('group');
	        lastFocusItem.removeAttribute('new_container');
	      	sliderPBOffsetX = touchobj.pageX - lastFocusItem.offsetLeft ;
	        sliderPBOffsetY = touchobj.pageY - lastFocusItem.offsetTop ;
	        item.addEventListener("touchend", touchEndHandler, false);
        	item.addEventListener("touchmove", touchMoveHandler, false);
        }else{
        	itemException = item;
        	sliderPBOffsetX = touchobj.pageX - item.offsetLeft ;
	        sliderPBOffsetY = touchobj.pageY - item.offsetTop ;
	        item.addEventListener("touchend", touchEndHandlerException, false);
        	item.addEventListener("touchmove", touchMoveHandlerException, false);
        }
    }

    var touchEndHandler = function(e) {
        elementHover =overItem;
		if(lastFocusItem && elementHover){
	        	elementHover.appendChild(lastFocusItem);
	        	lastFocusItem.setAttribute('group',true);
	        	lastFocusItem.setAttribute('new_container',elementHover.id);
	        	item.container=elementHover;
				lastFocusItem.style.left = lastFocusItem.offsetLeft - elementHover.offsetLeft + 'px';
				lastFocusItem.style.top = lastFocusItem.offsetTop - elementHover.offsetTop + 'px';
		}else{
			lastFocusItem.group = false;
			landscapeContainer.appendChild(item);
			lastFocusItem.removeAttribute('group');
			lastFocusItem.removeAttribute('new_container');
		}
		lastFocusItem.addEventListener("touchstart", touchStartHandler, false);
		overItem = null;
		elementHover = null;
		lastFocusItem.removeEventListener("touchend", touchEndHandler, false);
        lastFocusItem.removeEventListener("touchmove", touchMoveHandler, false);
    }

    var touchMoveHandler = function(event) {
        event.preventDefault();
        event.stopPropagation();
        event.cancelBubble=true;
        item=event.target;
        touchobj = event.changedTouches[0];
        cursorPosY = touchobj.pageY - sliderPBOffsetY;
        cursorPosX = touchobj.pageX - sliderPBOffsetX;
        item.style.top = cursorPosY + "px";
        item.style.left = cursorPosX + "px";
        for( var j in itemsColl){
        	if( itemsColl[j] !== lastFocusItem && touchobj.pageX >= itemsColl[j].offsetLeft && touchobj.pageX <= itemsColl[j].offsetLeft+itemsColl[j].offsetWidth && touchobj.pageY >= itemsColl[j].offsetTop && touchobj.pageY <= itemsColl[j].offsetTop+itemsColl[j].offsetHeight ){
        		overItem=itemsColl[j];
        		break;
        	}else{
        		overItem=null;
        	}
        }
    }
     var touchMoveHandlerException = function(event) {
     	 event.preventDefault();
        event.stopPropagation();
        event.cancelBubble=true;
        item=event.target;
        touchobj = event.changedTouches[0];
        cursorPosY = touchobj.pageY - sliderPBOffsetY;
        cursorPosX = touchobj.pageX - sliderPBOffsetX;
        item.style.top = cursorPosY + "px";
        item.style.left = cursorPosX + "px";          
    }
    var touchEndHandlerException = function(e) {
        lastFocusItem.removeEventListener("touchend", touchEndHandler, false);
        lastFocusItem.removeEventListener("touchmove", touchMoveHandler, false);
    }
    asignItemsMove();
</script>
<script cbtype="">
/*------------------------
------------------------
------------------------
edit html
------------------------
------------------------
--------------------------*/
var divResalt = document.createElement("div");
divResalt.id = "divResalt";
divResalt.style.position = "absolute";
divResalt.style.background = "rgba(174, 225, 242, .5)";
divResalt.style.border = "4px dotted #ddd";
var containerResalt = null;
var delResalt = null;
var drawMark = function(elemen) {
    divResalt.style.width = elemen.offsetWidth + "px";
    divResalt.style.height = elemen.offsetHeight + "px";
    divResalt.style.top = elemen.offsetTop + "px";
    divResalt.style.left = elemen.offsetLeft + "px";
    divResalt.style.zIndex = elemen.style.zIndex + 1;
    divResalt.style.pointerEvents = "none";
    containerResalt = elemen.parentNode;
    containerResalt.insertBefore(divResalt, containerResalt.firstChild);
    delResalt = function() {
        if (document.getElementById("divResalt")) {
            containerResalt.removeChild(divResalt);
        }
    }
}
var removeMark = function() {
    if (delResalt) {
        delResalt();
        delResalt = null;
    }
}
var tagsAffected = [
    "span",
    "textarea",
    "input",
    "p",
    "div",
    "ul",
    "li",
    "IMG"
]
var statusModCode = false;
var modPartialCodeStatus = function(_elem){
	statusModCode = !statusModCode;
	if(statusModCode){
		_elem.className= _elem.className+' edit_PB_active';
	}else{
		_elem.className= _elem.className.replace('edit_PB_active','');
	}
}
var eventsColl = [];
var modPartialCode = function() {
    
     
}
var modPartialCodeNull = function() {
    //var contItems = document.getElementById("unitContainerDiv");
    if (delResalt) {
        delResalt();
        delResalt = null;
    }
    var contItems = document.getElementById("landscape-container");
    for (var j in tagsAffected) {
        var pTags = contItems.getElementsByTagName(tagsAffected[j]);
        for (var j = 0; j <= pTags.length - 1; j++) {
        	eventsColl[j].onmousedown ? pTags[j].onmousedown = eventsColl[j].onmousedown : pTags[j].onmousedown = function(e){};
            eventsColl[j].onmouseover ? pTags[j].onmouseover = eventsColl[j].onmouseover : pTags[j].onmouseover = function(e){};
            eventsColl[j].onmouseout ? pTags[j].onmouseout = eventsColl[j].onmouseout : pTags[j].onmouseout = function(e){};
            eventsColl[j].onclick ? pTags[j].onclick = eventsColl[j].onclick : pTags[j].onclick = function(e){};
        }
    }
}
var showCode = function(_elem) {
    modHTMLMode = true;
    var htmlModCodesDiv = document.createElement("div");
    htmlModCodesDiv.id = "htmlModCodesDiv";
    htmlModCodesDiv.className = "generic_trans";
    htmlModCodesDiv.innerHTML = "Modificar Código";
    lastHtmlModCodesDiv = htmlModCodesDiv;

    var close = document.createElement("div");
    close.id = "closePB";
    close.className = "genericPB_vertical";
    close.innerHTML = "x";
    close.onclick = function() {
        setTimeout(function() {
            htmlModCodesDiv.style.right = "-100%";
            endTrans = function() {
                endTrans = null;
                htmlModCodesDiv.parentNode.removeChild(htmlModCodesDiv);
            }
        }, 10);

    };
    close.style.position = "absolute";
    close.style.top = "10px";
    close.style.right = "10px";


    var typeCode = document.createElement("p");
    typeCode.className = "genericRot_vertical";
    typeCode.innerHTML = "Type: " + _elem.toString();

    var introCodeInput = document.createElement("textarea");
    introCodeInput.className = "modifyUnit";
    introCodeInput.style.height = "200px";
    introCodeInput.value = _elem.innerHTML;
    introCodeInput.addEventListener("input", function() {
        introCodePB.onclick()
    });
    /*introCodeInput.onchange=function(){
        introCodePB.onclick();
    }*/


    var introCodePB = document.createElement("div");
    introCodePB.className = "genericPB_vertical";
    introCodePB.innerHTML = "Set Code";
    htmlModCodesDiv.appendChild(close);
    htmlModCodesDiv.appendChild(typeCode);
    htmlModCodesDiv.appendChild(introCodeInput);
    htmlModCodesDiv.appendChild(introCodePB);

    var collection = {};
    collection["className"] = _elem.className;
    collection["id"] = _elem.id;
    collection["onclick"] = _elem.getAttribute("onclick");


    for (var j in collection) {
        var rot = document.createElement("p");
        rot.className = "genericRot_vertical";
        rot.innerHTML = j;
        switch (j) {
            case "onclick":
                var recom = document.createElement("p");
                recom.className = "genericRot_vertical";
                recom.style.color = "#aaa";
                recom.innerHTML = "Use ' Inside onclick ";
                htmlModCodesDiv.appendChild(recom);
                var inputColl = document.createElement("textarea");
                inputColl.className = "modifyUnit";
                inputColl.addEventListener("input", function() {
                    introCodePB.onclick()
                });
                inputColl.style.height = "150px";
                break;
            default:
                var inputColl = document.createElement("input");
                inputColl.className = "modifyUnit";
                break;
        }
        inputColl.value = collection[j];
        collection[j] = inputColl;
        htmlModCodesDiv.appendChild(rot);
        htmlModCodesDiv.appendChild(inputColl);
    }
    switch (_elem.toString()) {
        case "[object HTMLParagraphElement]":

            break;
        case "[object HTMLDivElement]":

            break;
        case "[object HTMLImageElement]":
            var rot1 = document.createElement("p");
            rot1.className = "genericRot_vertical";
            rot1.innerHTML = "url Img";
            var srcIMG = document.createElement("textarea");
            srcIMG.className = "modifyUnit";
            srcIMG.addEventListener("input", function() {
                introCodePB.onclick()
            });
            srcIMG.style.height = "150px";
            srcIMG.value = _elem.src.toString();
            htmlModCodesDiv.appendChild(rot1);
            htmlModCodesDiv.appendChild(srcIMG);
            collection["src"] = srcIMG;
            break;
        default:
            break;

    }

    var InternalNavRot = document.createElement("p");
    InternalNavRot.className = "genericRot_vertical";
    InternalNavRot.innerHTML = "Internal Navigation";
    htmlModCodesDiv.appendChild(InternalNavRot);

    var internalNavCode = {};
    var InternalNavRotPage = document.createElement("p");
    InternalNavRotPage.className = "genericRot_vertical";
    InternalNavRotPage.innerHTML = "Page";
    htmlModCodesDiv.appendChild(InternalNavRotPage);
    var InternalNavRotPageInput = document.createElement("input");
    InternalNavRotPageInput.className = "modifyUnit";
    InternalNavRotPageInput.value = _elem.getAttribute("toPage");
    htmlModCodesDiv.appendChild(InternalNavRotPageInput);
    internalNavCode["page"] = InternalNavRotPageInput;
    var InternalNavRotSubPage = document.createElement("p");
    InternalNavRotSubPage.className = "genericRot_vertical";
    InternalNavRotSubPage.innerHTML = "SubPage";
    htmlModCodesDiv.appendChild(InternalNavRotSubPage);
    var InternalNavRotSubPageInput = document.createElement("input");
    InternalNavRotSubPageInput.className = "modifyUnit";
    InternalNavRotSubPageInput.value = _elem.getAttribute("toSubPage");
    htmlModCodesDiv.appendChild(InternalNavRotSubPageInput);
    internalNavCode["subpage"] = InternalNavRotSubPageInput;

    var extraCssRot = document.createElement("p");
    extraCssRot.className = "genericRot_vertical";
    extraCssRot.innerHTML = "Extra CSS";
    var extraCss = document.createElement("textarea");
    extraCss.className = "modifyUnit";
    extraCss.addEventListener("input", function() {
        introCodePB.onclick()
    });
    extraCss.value = "";
    htmlModCodesDiv.appendChild(extraCssRot);
    htmlModCodesDiv.appendChild(extraCss);
    var cssTextCollection = {};
    var cssText = _elem.style.cssText.split(";");
    cssText.pop();
    for (var j in cssText) {
        var style = cssText[j].split(":");
        var rot = document.createElement("p");
        rot.style.margin = "0";
        rot.style.textAlign = "left";
        rot.innerHTML = style[0];
        var inputCssText = document.createElement("input");
        inputCssText.className = "modifyUnit";
        inputCssText.addEventListener("input", function() {
            introCodePB.onclick()
        });
        inputCssText.value = style[1];
        inputCssText.className = "modifyUnit";
        cssTextCollection[style[0]] = inputCssText;
        htmlModCodesDiv.appendChild(rot);
        htmlModCodesDiv.appendChild(inputCssText);
    }
    collection["style"] = _elem.style.cssText;



    introCodePB.onclick = function() {
        setCode(introCodeInput, _elem, collection, cssTextCollection, extraCss, internalNavCode);
    };
    document.body.appendChild(htmlModCodesDiv);
    setTimeout(function() {
        htmlModCodesDiv.style.right = "0";
        endTrans = function() {
            endTrans = null;
        }
    }, 10);

}
var setCode = function(introCodeInput, _elem, collection, cssTextCollection, extraCss, internalNavCode) {
    _elem.innerHTML = introCodeInput.value;

    if (internalNavCode["page"].value != "" && internalNavCode['subpage'].value == "") {
        _elem.removeAttribute("toSubPage");
        _elem.setAttribute("toPage", internalNavCode['page'].value);
        collection["onclick"].value = "internalNavMenu('" + internalNavCode["page"].value + "')";
        _elem.setAttribute("onclick", "internalNavMenu('" + internalNavCode["page"].value + "')");
    } else if (internalNavCode["page"].value != "" && internalNavCode['subpage'].value != "") {
        _elem.setAttribute("toPage", internalNavCode['page'].value);
        _elem.setAttribute("toSubPage", internalNavCode['subpage'].value);
        collection["onclick"].value = "internalNavMenu('" + internalNavCode['page'].value + "','" + internalNavCode['subpage'].value + "')";
        _elem.setAttribute("onclick", "internalNavMenu('" + internalNavCode['page'].value + "','" + internalNavCode['subpage'].value + "')");
    } else {
        _elem.removeAttribute("toPage");
        _elem.removeAttribute("toSubPage");
        _elem.removeAttribute("onclick");
        internalNavCode['subpage'].value = "";
        if (collection["onclick"].value.indexOf("internalNavMenu") > -1) {
            collection["onclick"].value = "";
        }
    }
    for (var j in collection) {
        if (collection[j].value != "") {
            if (j == "onclick") {
                _elem.setAttribute("onclick", collection[j].value);
            } else {
                _elem[j] = collection[j].value;
            }

        } else {
            if (j == "onclick" && internalNavCode["page"].value == "") {
                _elem.removeAttribute("onclick");
            } else if (j == "className") {
                _elem.removeAttribute("class");
            } else if (j != "onclick" && j != "className") {
                _elem.removeAttribute(j);
            }

        }
    }

    _elem.removeAttribute("style");
    for (var j in cssTextCollection) {
        if (cssTextCollection[j].value != "") {
            if (j.indexOf("opacity") <= -1) {
                _elem.style.cssText += j + ":" + cssTextCollection[j].value + ";";
            } else {
                if (cssTextCollection[j].value.indexOf("initial") <= -1) {
                    _elem.style.cssText += j + ":" + cssTextCollection[j].value + ";";
                }
            }
        }
    }
    _elem.style.cssText += extraCss.value;
}
var notLoggedCol=function(){
	document.getElementById("statusSaved").innerHTML="Pensabas hacerlo sin logarte primero ?";
	document.getElementById("statusSaved").style.color="#c33";
}
var writeMessageCol=function(){
      document.getElementById("statusSaved").innerHTML="Contenidos guardados";
      document.getElementById("statusSaved").style.color="green";
}
var saveCol = function() {
        checkLogged(savePage, notLoggedCol, null, writeMessageCol);
    }

</script>













